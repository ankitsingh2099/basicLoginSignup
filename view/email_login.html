<!DOCTYPE html>
<html>
<head>
    <title> Mobile Login Form</title>


    <link rel="stylesheet"
          href=
                  "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity=
                  "sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
          crossorigin="anonymous">

    <link rel="stylesheet" type="text/css" href="/stylesheet/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript">

      function validatePassword(){
        $.post('login',{
          email_id: document.getElementById("email_id").value,
          password: document.getElementById("password").value,
          type: 'email'
        }, function(response) {
          if(response.success){
            window.location = "/success";
          } else {
            document.getElementById("error_field").innerHTML = response.error;
          }
        }).fail(function(err){
          document.getElementById("error_field").innerHTML = err.responseJSON.error;
        });
      }
    </script>

</head>
<body>

<br>
<br>
<br>
<div class="container" >
    <div class="row">
        <div class="col-md-3">

        </div>

        <div class="col-md-6 main">

            <form action="javascript:validatePassword()" method="post">

                <h1> Login form </h1>

                <input class="box" type="email" name="email_id" id="email_id"
                       placeholder="E-Mail " required /><br>

                <input class="box" type="password" name="password"
                       id="password" placeholder="Password " required/><br>

                <input type="hidden" id="type" name="type" value="email">

                <br>
                <input type="submit" id="submit"
                       name="submitDetails" value="Submit" /><br>

            </form>
            <a href="/login?type=otp" class="button--style-blue">Login With OTP</a> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
            <p id="error_field"></p>

        </div>


        <div class="col-md-3">
        </div>

    </div>
</div>
</body>
</html>